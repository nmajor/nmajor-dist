<!DOCTYPE html>
<html lang="en">
   <head>
       <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<title>NMajor Blog </title>
<!---->
<meta name="description" content="A blog filled with adventures in tech">
<link rel="canonical" href="/">
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Blog" />
<meta name="twitter:description" content="A blog filled with adventures in tech" />
<meta name="twitter:image" content="" />
<meta name="author" content="">
<link rel="author" href="">
<meta property="og:locale" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="Blog">
<meta property="og:description" content="A blog filled with adventures in tech">
<meta property="og:url" content="/">
<meta property="og:site_name" content="NMajor Blog">
<link rel="stylesheet" href="/assets/vendor/normalize-css/normalize.css">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i">
<style>
    html {
      font-family: "Open Sans", "Helvetica Neue", sans-serif;
    }
</style>
<link rel="stylesheet" href="/assets/css/bf.css">
   <body>
       <div class="wrapper" id="blep">
          <header>
   <div class="menu">
     <div class="logo">
        <img src="/uploads/me4.jpg" />
        <a href="/">NMajor Blog</a>
     </div>
       <ul>
           <li><a href="/about">About</a>
           <li><a href="/projects">Projects</a>
           <li><a href="/archive">Archive</a>
       </ul>
   </div>
   <div class="social">
     <ul>
       <li>
            <a href="https://github.com/nmajor" target="_blank" class="smaller">
              <span class="icon-github"></span>
            </a>
       <li>
            <a href="https://twitter.com/_nmajor" target="_blank" class="smaller">
              <span class="icon-twitter"></span>
            </a>
       <li>
            <a href="https://linkedin.com/in/nmajor" target="_blank" class="smaller">
              <span class="icon2-linkedin"></span>
            </a>
       <li>
            <a href="http://blog.nmajor.com" target="_blank" class="smaller">
              <span class="icon2-globe"></span>
            </a>
       <li>
            <a href="https://instagram.com/_nmajor" target="_blank" class="smaller">
              <span class="icon2-instagram"></span>
            </a>
       <li>
            <a href="https://youtube.com/channel/UCV_jmt214-hitQUiczsYhsQ" target="_blank" class="smaller">
              <span class="icon-youtube"></span>
            </a>
       <li>
            <a href="mailto:nick@nmajor.com" target="_blank">
              <span class="icon-mail_outline"></span>
            </a>
       <li>
            <a href="/feed.xml" target="_blank">
                <span class="icon-rss_feed"></span>
            </a>
     </ul>
   </div>
</header>
<article class="blog">
 <div class="
    post-title-container-nohero
  ">
     <h1>
          <a href="/posts/react-css-styled-components" title="React CSS - Styled Components">React CSS - Styled Components</a>
     </h1>
     <div class="
        post-meta-nohero
      ">
     </div>
 </div>
  <span class="published-at">Published Jul 16, 2018</span>
  &#9642;
  <span class="post-tags">
        <a href="/tag/react">#react</a>
        <a href="/tag/css">#css</a>
  </span>
      <a href="/posts/react-css-styled-components" title="React CSS - Styled Components"><img class="hero-image" src="/uploads/2018/07/16/jungle & river trails.png" /></a>
     <h2 id="why-i-prefer-styled-components">Why I prefer Styled Components</h2>
<p>I prefer Styled Components because I feel like it is more inline with the core component philosophy of react. React is all about creating reusable components, and really pushed the idea of bundling the templating (HTML) and behavior (JS) together into components. So it always felt a bit wonky to me to still put my CSS in a separate file and connect my styling using regular CSS <code class="highlighter-rouge">class</code> and <code class="highlighter-rouge">id</code> targeting.
       <div class="readmore">
          <a href="/posts/react-css-styled-components" role="button">Read more</a>
       <div>
</article>
 <hr>
<article class="blog">
 <div class="
    post-title-container-nohero
  ">
     <h1>
          <a href="/posts/get-a-facebook-page-access-token-that-never-expires" title="Get a Facebook Page Access Token That Never Expires">Get a Facebook Page Access Token That Never Expires</a>
     </h1>
     <div class="
        post-meta-nohero
      ">
     </div>
 </div>
  <span class="published-at">Published Mar 21, 2018</span>
  &#9642;
  <span class="post-tags">
        <a href="/tag/facebook">#facebook</a>
  </span>
      <a href="/posts/get-a-facebook-page-access-token-that-never-expires" title="Get a Facebook Page Access Token That Never Expires"><img class="hero-image" src="/uploads/2018/03/21/So, let's take it to the streets and celebrate our freedom!.png" /></a>
     <p>With the facebook API, page tokens can often be used in place of user tokens. This is very useful because if you are doing something with a business, its not ideal to have to use your own user token for everything. However, if you don’t want to have to recreate a new token all the time, you have to go through the process of getting a long-lived page access token.
       <div class="readmore">
          <a href="/posts/get-a-facebook-page-access-token-that-never-expires" role="button">Read more</a>
       <div>
</article>
 <hr>
<article class="blog">
 <div class="
    post-title-container-nohero
  ">
     <h1>
          <a href="/posts/express-js-with-es6-and-babel" title="Express.js With ES6 and Babel">Express.js With ES6 and Babel</a>
     </h1>
     <div class="
        post-meta-nohero
      ">
     </div>
 </div>
  <span class="published-at">Published Feb 16, 2018</span>
  &#9642;
  <span class="post-tags">
        <a href="/tag/express">#express</a>
        <a href="/tag/node">#node</a>
        <a href="/tag/babel">#babel</a>
        <a href="/tag/es6">#es6</a>
  </span>
      <a href="/posts/express-js-with-es6-and-babel" title="Express.js With ES6 and Babel"><img class="hero-image" src="/uploads/2018/02/16/Express.js - ES6 - Babel.png" /></a>
     <p>Express.js doesn’t come with es6 out of the box. But its actually not that hard to add.
<p>I’m going to go over how to easily add ES6 support to your project using the <a href="https://www.npmjs.com/package/babel-cli" title="babel-cli">babel-cli</a>, as well as show you some of the things you need to do so your app will be ready for production later.
       <div class="readmore">
          <a href="/posts/express-js-with-es6-and-babel" role="button">Read more</a>
       <div>
</article>
 <hr>
<article class="blog">
 <div class="
    post-title-container-nohero
  ">
     <h1>
          <a href="/posts/deploying-a-node-js-app-on-azure-app-services" title="Deploying Node.js on Azure App Services">Deploying Node.js on Azure App Services</a>
     </h1>
     <div class="
        post-meta-nohero
      ">
     </div>
 </div>
  <span class="published-at">Published Feb 14, 2018</span>
  &#9642;
  <span class="post-tags">
        <a href="/tag/node">#node</a>
        <a href="/tag/azure">#azure</a>
        <a href="/tag/production">#production</a>
  </span>
      <a href="/posts/deploying-a-node-js-app-on-azure-app-services" title="Deploying Node.js on Azure App Services"><img class="hero-image" src="/uploads/2018/07/16/Deploying.png" /></a>
     <p>I know, I know, I know, Microsoft is not the company you think of when its time to figure out where to host your Node.js app, but Azure has a surprisingly robust suite of services now. And deploying to <a href="https://azure.microsoft.com/en-us/services/app-service/" title="Azure App Service">Azure App Services</a> was easier than I expected.
<p>In this post I’m going to go over how to deploy a Node.js app to Azure App Services and also mention some of the things I learned from working with Azure.
<h1 id="your-azure-account">Your Azure Account</h1>
<h3 id="azure-account">Azure account</h3>
<p>First of all, you need to make sure you have an Azure account. If you don’t have one you can sign up for Azure <a href="https://azure.microsoft.com/free/" title="Azure Signup">here</a>.
<h3 id="azure-subscription">Azure Subscription</h3>
<p>Azure requires you to have something called a subscription before you can start using Azure services. This subscription is basically a billing program.
<p>Double check that you have a subscription by going to this page in your Azure portal:
<p><a href="https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade" title="https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade">https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade</a>
<p>If you don’t see a subscription listed, then add one.
<p>If you have just signed up you’ll notice that one of the subscription options is “Free Trial” so you can use that and then later change to a “Pay as You Go” option later if you run out of free resources.
<h3 id="azure-command-line-tool">Azure Command Line Tool</h3>
<p>We are going to be doing this entire setup using the Azure command line tool.
<p>You can download and install the command line tool by following the [instructions here](<a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest" title="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest</a>)
<p>Once you have that installed and working, we are ready to get started deploying the app.
<h3 id="create-a-deployment-user">Create a deployment user</h3>
<p>This deployment user will be used when deploying your code. Basically we are going to configure the app to be deployed with git so when you do a <code class="highlighter-rouge">git push azure master</code> it will ask you for the password that you set here.
<p>Run this in the command line:
<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre><td class="code"><pre>az webapp deployment user set --user-name &lt;username&gt; --password &lt;password&gt;
</pre></table>
</div>
</div>
<h3 id="create-a-resource-group">Create a resource group</h3>
<p>Resource groups are basically just a way to group together resources so you can easily monitor them together, track costs, and stuff.
<p>Replace <code class="highlighter-rouge">&lt;my-resource-group&gt;</code> with a resource group name you want.
<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre><td class="code"><pre>az group create --name &lt;my-resource-group&gt; --location westeurope
</pre></table>
</div>
</div>
<h3 id="create-a-service-plan">Create a service plan</h3>
<p>This is where you will set the how many resources your app will use.
<p>The command below will create a <code class="highlighter-rouge">FREE</code> tier app that has about 1 GB of RAM. You could also set the <code class="highlighter-rouge">--sku</code> tag to <code class="highlighter-rouge">BASIC</code> or <code class="highlighter-rouge">SHARED</code> or any of the other [service plans here](<a href="https://azure.microsoft.com/en-us/pricing/details/app-service/" title="https://azure.microsoft.com/en-us/pricing/details/app-service/">https://azure.microsoft.com/en-us/pricing/details/app-service/</a>).
<p>Also be sure to set your <code class="highlighter-rouge">&lt;my-app-service-plan&gt;</code> and also make sure you set <code class="highlighter-rouge">&lt;my-resource-group&gt;</code> to your resource group name from earlier.
<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre><td class="code"><pre>az appservice plan create --name &lt;my-app-service-plan&gt; --resource-group &lt;my-resource-group&gt; --sku FREE
</pre></table>
</div>
</div>
<h3 id="create-the-app">Create the app</h3>
<p>Now we actually create the app, you have to give your app an <code class="highlighter-rouge">&lt;app-name&gt;</code> and then make sure you paste in all the other options from things you’ve created previously.
<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre><td class="code"><pre>az webapp create --name &lt;app-name&gt; --resource-group &lt;my-resource-group&gt; --plan &lt;my-app-service-plan&gt;
</pre></table>
</div>
</div>
<h3 id="configure-git-for-deployment">Configure git for deployment</h3>
<p>This command sill set up you app to be deployed using git. The response you get from this command will be a git url you can use as the git remote to deploy.
<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre><td class="code"><pre>az webapp deployment source config-local-git --name &lt;app-name&gt; --resource-group &lt;my-resource-group&gt; --query url --output tsv
</pre></table>
</div>
</div>
<h3 id="configure-startup-script">Configure startup script</h3>
<p>If you are coding in ES6 you probably have a build step. For that you may want to set up a custom deploy script. [Here is the documentation for how to do that](<a href="https://github.com/projectkudu/kudu/wiki/Custom-Deployment-Script" title="https://github.com/projectkudu/kudu/wiki/Custom-Deployment-Script">https://github.com/projectkudu/kudu/wiki/Custom-Deployment-Script</a>).
<p>However I’ve noticed a bug here. Sometimes the order of commands in the deploy script appears to not be honored. According to [this github issue](<a href="https://github.com/projectkudu/kudu/issues/2699" title="https://github.com/projectkudu/kudu/issues/2699">https://github.com/projectkudu/kudu/issues/2699</a>), it may be related to the Always On setting in your app. But regardless the app tries to start up before the my deploy script is finished, which means it tries to run code that isnt built from webpacker yet.
<p>So, in an effort to find a quick fix I just committed my built files which sucks. I’m still trying to figure out a better workaround here because there hasn’t been a lot of movement on that particular github issue.
       <div class="readmore">
          <a href="/posts/deploying-a-node-js-app-on-azure-app-services" role="button">Read more</a>
       <div>
</article>
 <hr>
<article class="blog">
 <div class="
    post-title-container-nohero
  ">
     <h1>
          <a href="/posts/serverless-back-end-for-react-your-introduction-to-serverless-architecture" title="Serverless Back-End for React - Your Introduction to Serverless Architecture">Serverless Back-End for React - Your Introduction to Serverless Architecture</a>
     </h1>
     <div class="
        post-meta-nohero
      ">
     </div>
 </div>
  <span class="published-at">Published Jan 29, 2018</span>
  &#9642;
  <span class="post-tags">
        <a href="/tag/serverless">#serverless</a>
        <a href="/tag/react">#react</a>
        <a href="/tag/aws">#aws</a>
  </span>
      <a href="/posts/serverless-back-end-for-react-your-introduction-to-serverless-architecture" title="Serverless Back-End for React - Your Introduction to Serverless Architecture"><img class="hero-image" src="/uploads/2018/02/16/call it a plan (1).png" /></a>
     <p>I believe Serverless is the next big thing in web development. I discuss the what, why, and how of Serverless. Then I show you how to build a simple backend for a react app. You’ll be surprised how easy it is.
       <div class="readmore">
          <a href="/posts/serverless-back-end-for-react-your-introduction-to-serverless-architecture" role="button">Read more</a>
       <div>
</article>
<nav class="pagination" role="navigation">
<hr/>
 <ul>
   <li class="pagination-item-prev" >
      <span>&laquo; Previous</span>
   <li class="pagination-item-next" >
      <span>Next &raquo;</span>
 </ul>
<hr/>
</nav>
           <footer>
    <span>A blog filled with adventures in tech</span>
    <span>written by Nicholas Major</span>
</footer>
       </div>
<script type="text/javascript" src="/assets/js/theme.js"></script>
<script type="text/javascript" src="/assets/js/barefoot.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-48130330-1', 'auto');
      ga('send', 'pageview');
    </script>
    
